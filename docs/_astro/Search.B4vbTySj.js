import{o as J,i as N,r as B,a as O,s as R}from"./translation.VAeESqsy.js";import{p as Q,l as T,i as U,f as K,j as X,t as E,g as a,k as M,a as j,b as Z,d as s,c as l,r as i,m as k,e as $,s as d,h as D}from"./render.B3d8_inp.js";import{e as ee,i as te}from"./each.CS7vSawI.js";import{I as f,h as ae}from"./Icon.BEQyDG1h.js";import{b as q}from"./input.DlrCr8mU.js";import{I as re}from"./zh_TW.EgAPtJY2.js";import{u as F}from"./url-utils.ue3v-0FB.js";/* empty css                        */var se=K(`<a class="transition first-of-type:mt-2 lg:first-of-type:mt-0 group block
       rounded-xl text-lg px-3 py-2 hover:bg-[var(--btn-plain-bg-hover)] active:bg-[var(--btn-plain-bg-active)]"><div class="transition text-90 inline-flex font-bold group-hover:text-[var(--primary)]"> <!></div> <div class="transition text-sm text-50"><!></div></a>`),le=K(`<div id="search-bar" class="hidden lg:flex transition-all items-center h-11 mr-2 rounded-lg
      bg-black/[0.04] hover:bg-black/[0.06] focus-within:bg-black/[0.06]
      dark:bg-white/5 dark:hover:bg-white/10 dark:focus-within:bg-white/10
"><!> <input class="transition-all pl-10 text-sm bg-transparent outline-0
         h-full w-40 active:w-60 focus:w-60 text-black/50 dark:text-white/50 svelte-1adkdfv"/></div> <button aria-label="Search Panel" id="search-switch" class="btn-plain scale-animation lg:!hidden rounded-lg w-11 h-11 active:scale-90"><!></button> <div id="search-panel" class="float-panel float-panel-closed search-panel absolute md:w-[30rem]
top-20 left-4 md:left-[unset] right-4 shadow-2xl rounded-2xl p-2 svelte-1adkdfv"><div id="search-bar-inside" class="flex relative lg:hidden transition-all items-center h-11 rounded-xl
      bg-black/[0.04] hover:bg-black/[0.06] focus-within:bg-black/[0.06]
      dark:bg-white/5 dark:hover:bg-white/10 dark:focus-within:bg-white/10
  "><!> <input placeholder="Search" class="pl-10 absolute inset-0 text-sm bg-transparent outline-0
               focus:w-60 text-black/50 dark:text-white/50 svelte-1adkdfv"/></div> <!></div>`,1);function ve(V,W){Q(W,!1);let n=k(""),h=k(""),o=k([]),w=!1;const Y=[{url:F("/"),meta:{title:"This Is a Fake Search Result"},excerpt:"Because the search cannot work in the <mark>dev</mark> environment."},{url:F("/"),meta:{title:"If You Want to Test the Search"},excerpt:"Try running <mark>npm build && npm preview</mark> instead."}],z=()=>{document.getElementById("search-panel")?.classList.toggle("float-panel-closed")},u=(t,r)=>{const e=document.getElementById("search-panel");!e||!r||(t?e.classList.remove("float-panel-closed"):e.classList.add("float-panel-closed"))},b=async(t,r)=>{if(!t){u(!1,r),d(o,[]);return}try{let e=[];if(w){const c=await window.pagefind.search(t);e=await Promise.all(c.results.map(v=>v.data()))}else e=Y;d(o,e),u(a(o).length>0,r)}catch(e){console.error("Search error:",e),d(o,[]),u(!1,r)}finally{}};J(async()=>{w=typeof window<"u"&&"pagefind"in window}),T(()=>a(n),()=>{b(a(n),!0)}),T(()=>a(h),()=>{b(a(h),!1)}),U(),N();var _=le(),g=X(_),y=l(g);f(y,{icon:"material-symbols:search",class:"absolute text-[1.25rem] pointer-events-none ml-3 transition my-auto text-black/30 dark:text-white/30"});var m=s(y,2);B(m),i(g);var p=s(g,2),A=l(p);f(A,{icon:"material-symbols:search",class:"text-[1.25rem]"}),i(p);var I=s(p,2),x=l(I),S=l(x);f(S,{icon:"material-symbols:search",class:"absolute text-[1.25rem] pointer-events-none ml-3 transition my-auto text-black/30 dark:text-white/30"});var L=s(S,2);B(L),i(x);var C=s(x,2);ee(C,1,()=>a(o),te,(t,r)=>{var e=se(),c=l(e),v=l(c,!0),G=s(v);f(G,{icon:"fa6-solid:chevron-right",class:"transition text-[0.75rem] translate-x-1 my-auto text-[var(--primary)]"}),i(c);var P=s(c,2),H=l(P);ae(H,()=>a(r).excerpt),i(P),i(e),E(()=>{R(e,"href",a(r).url),D(v,a(r).meta.title)}),j(t,e)}),i(I),E(t=>R(m,"placeholder",t),[()=>O(re.search)],$),q(m,()=>a(n),t=>d(n,t)),M("focus",m,()=>b(a(n),!0)),M("click",p,z),q(L,()=>a(h),t=>d(h,t)),j(V,_),Z()}export{ve as default};
